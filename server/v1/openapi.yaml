# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi
openapi: 3.0.3
info:
    title: Tigris API Reference
    description: "# Overview\nThis section is organized around HTTP APIs. The APIs accepts JSON requests and returns JSON-encoded responses.The APIs conforms to standard HTTP status codes.\n\n# Errors\nTigris uses conventional HTTP response codes to indicate the success or failure of an API request.The response will  contain an error code or other information that reveals the reason of the error. \nThe error response is in JSON format and is structured like this:\n```\n {\n   \"error\": {\n     \"code\": \"ALREADY_EXISTS\",\n     \"message\": \"row already exists\"\n   }\n }\n\n```\n\n## Status 2xx\n\n  HTTP Code  | Reason\n  ----------------|-------------\n  200 - OK | Everything worked as expected.\n\n\n## Status 4xx\nStatus codes in the `400-499` range indicate errors that have been caused by the requesting application (e.g., a malformed request body has been sent).\nRetrying such requests with the same request body is pointless and _will_ result in the same status code again. Some `4xx` errors can be handled programmatically. Change the request accordingly before retrying. Below you can find the most frequent 4XX errors and how to fix them.\n\n  HTTP Code  | Tigris Code | Reason\n  ----------------|-------------|---------\n  400 - Bad Request | INVALID_ARGUMENT | The request was unacceptable, often due to missing a required parameter. <br>Examples: <li>Missing documents for write request</li><li>Collection or Database name is not following the allowed characters</li>\n  401 - Unauthorized | UNAUTHENTICATED | No valid API key provided. Check that your `api_key` and `api_secret` are correct.\n  403 - Forbidden | PERMISSION_DENIED | The API key doesn't have permissions to perform the request.\n  404 - Not Found | NOT_FOUND | The requested resource doesn't exist. <br>Examples: <li>Database or Collection doesn't exists</li><li>Access Token missing in the request header</li>\n  409 - Conflict | ALREADY_EXISTS | TThe request conflicts with another request (perhaps due to using the same idempotent key). <br>Examples: <li>Trying to insert document again for the primary key that already exists</li><li>Creating a database that already exists</li>\n  429 - Too Many Requests | RESOURCE_EXHAUSTED | Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.\n  \n  \n  \n## Status 5xx\nThe 5xx range indicate an error with Tigris servers (these are rare).\n\n  HTTP Code  | Tigris Code | Reason\n  ----------------|-------------|---------\n  500 - Internal Server Error | UNKNOWN | Something went wrong on Tigris server side.                    \n  501 - Not Implemented       | UNIMPLEMENTED | Not supported by the Tigris server and cannot be handled. \n  502 - Bad Gateway           | BAD_GATEWAY | The API key doesn't have permissions to perform the request.\n  503 - Service Unavailable   | UNAVAILABLE | The server is not ready to handle the request. Common causes are a server that is down for maintenance or that is overloaded.\n  504 - Gateway Timeout       | DEADLINE_EXCEEDED | Tigris server is unable to process the request timely. Common causes are that request is expensive, or server is overloaded.\n  \n# Idempotent Requests\n  \n  Tigris provides idempotency guarantees when an API call is disrupted and either no response is returned or an HTTP \n  Status code `429,500,501,502,503` is returned. These errors ensure that the request is not committed and retrying the same request will have the same effect.\n\n\n# Limitations\n<li>Do not rely on case to distinguish between databases or collections names.</li> <li>Database Name and Collection Name cannot be empty and can only have the characters matches the regex: <code>^[a-zA-Z]+[a-zA-Z0-9_]+$</code>.</li> <li>Duplicate field names are not allowed. </li> <li>The maximum allowed document size is 100KB.</li> <li>The maximum allowed transaction size is 10MB.</li>\n"
    license:
        name: Apache License
        url: https://github.com/tigrisdata/tigris/blob/main/LICENSE
    version: 0.0.1
servers:
    - url: https://api.preview.tigrisdata.cloud
      description: Tigris Cloud
    - url: http://localhost:8081
      description: Localhost
paths:
    /v1/auth/token:
        post:
            tags:
                - Authentication
            summary: Access Token
            description: |-
                Endpoint for receiving access token from Tigris Server. The endpoint requires Grant Type(`grant_type`) which has
                 two possible values <i>"REFRESH_TOKEN"</i> or <i>"CLIENT_CREDENTIALS"</i> based on which either Refresh token(`refresh_token`)
                 needs to be set or client credentials(`client_id`, `client_secret`).
            operationId: Auth_GetAccessToken
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/GetAccessTokenRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetAccessTokenResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/list:
        post:
            tags:
                - Databases
            summary: List Databases
            description: List returns all the databases.
            operationId: Tigris_ListDatabases
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/list:
        post:
            tags:
                - Databases
            summary: List Collections
            description: List all the collections present in the database passed in the request.
            operationId: Tigris_ListCollections
            parameters:
                - name: db
                  in: path
                  description: List collection in this database.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ListCollectionsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListCollectionsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/createOrUpdate:
        post:
            tags:
                - Collections
            summary: Create or update a collection
            description: |-
                Creates a new collection or atomically upgrades the collection to the new schema provided in the request.
                 Schema changes are applied atomically and immediately without any downtime.
                 Tigris Offers two types of collections: <p></p>
                    <li> `DOCUMENTS`: Offers rich CRUD APIs.
                    <li> `MESSAGES`: Offers event streaming APIs.
            operationId: Tigris_CreateOrUpdateCollection
            parameters:
                - name: db
                  in: path
                  description: Database name where to create collection.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name to create.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateOrUpdateCollectionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateOrUpdateCollectionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/describe:
        post:
            tags:
                - Collections
            summary: Describe Collection
            description: Returns the information related to the collection. This can be used to retrieve the schema or size of the collection.
            operationId: Tigris_DescribeCollection
            parameters:
                - name: db
                  in: path
                  description: Name of the database.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Name of the collection.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DescribeCollectionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DescribeCollectionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/documents/delete:
        delete:
            tags:
                - Documents
            summary: Delete Documents
            description: Delete a range of documents in the collection using the condition provided in the filter.
            operationId: Tigris_Delete
            parameters:
                - name: db
                  in: path
                  description: Database name where to insert documents.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name where to insert documents.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DeleteRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DeleteResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/documents/insert:
        post:
            tags:
                - Documents
            summary: Insert Documents
            description: |-
                Inserts new documents in the collection and returns an AlreadyExists error if any of the documents
                 in the request already exists. Insert provides idempotency by returning an error if the document
                 already exists. To replace documents, use REPLACE API instead of INSERT.
            operationId: Tigris_Insert
            parameters:
                - name: db
                  in: path
                  description: Database name where to insert documents.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name where to insert documents.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InsertRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InsertResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/documents/read:
        post:
            tags:
                - Documents
            summary: Read Documents
            description: |-
                Reads a range of documents from the collection, or messages from a collection in case of event streaming. Tigris does not require you to
                 index any fields and automatically index all the fields which means you can filter by any field in the document.
                 An empty filter will trigger reading all the documents inside this collection. The API supports pagination that
                 can be used by passing `Limit/Skip` parameters. The `skip` parameter skips the number of documents from the start and
                 the `limit` parameter is used to specify the number of documents to read. You can find more detailed documentation
                 of the Read API <a href="https://docs.tigrisdata.com/overview/query" title="here">here</a>.
            operationId: Tigris_Read
            parameters:
                - name: db
                  in: path
                  description: Database name to read documents from.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name to read documents from.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ReadRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StreamingReadResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/documents/replace:
        put:
            tags:
                - Documents
            summary: Insert or Replace Documents
            description: Inserts the documents or replaces the existing documents in the collections.
            operationId: Tigris_Replace
            parameters:
                - name: db
                  in: path
                  description: Database name where to replace documents.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name where to replace documents.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ReplaceRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ReplaceResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/documents/search:
        post:
            tags:
                - Documents
            summary: Search Documents
            description: |-
                Searches a collection for the documents matching the query, or messages in case of event streaming. A search can be
                 a term search or a phrase search. Search API allows filtering the result set using filters as documented <a href="https://docs.tigrisdata.com/overview/query#specification-1" title="here">here</a>.
                 You can also perform a faceted search by passing the fields in the facet parameter.
                 You can find more detailed documentation of the Search API with multiple examples <a href="https://docs.tigrisdata.com/overview/search" title="here">here</a>.
            operationId: Tigris_Search
            parameters:
                - name: db
                  in: path
                  description: Database name to read documents from.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name to read documents from.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StreamingSearchResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/documents/update:
        put:
            tags:
                - Documents
            summary: Update Documents
            description: Update a range of documents in the collection using the condition provided in the filter.
            operationId: Tigris_Update
            parameters:
                - name: db
                  in: path
                  description: Database name where to update documents
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name where to update documents
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UpdateResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/drop:
        delete:
            tags:
                - Collections
            summary: Drop Collection
            description: Drop the collection inside this database. This API deletes all of the documents inside this collection and any metadata associated with it.
            operationId: Tigris_DropCollection
            parameters:
                - name: db
                  in: path
                  description: Database name of the collection.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Collection name to drop.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DropCollectionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DropCollectionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/messages/publish:
        post:
            tags:
                - Event Streaming
            summary: Publish Messages to a Topic
            description: Endpoint for publishing messages to a topic.
            operationId: Tigris_Publish
            parameters:
                - name: db
                  in: path
                  description: Database name where to publish messages.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Topic name where to publish messages.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/PublishRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PublishResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/collections/{collection}/messages/subscribe:
        post:
            tags:
                - Event Streaming
            summary: Subscribe to a Topic
            description: |-
                Endpoint for subscribing to a topic to receive a stream of messages. The `partition` can be set to stream only
                 from a specific partition.
            operationId: Tigris_Subscribe
            parameters:
                - name: db
                  in: path
                  description: Database name.
                  required: true
                  schema:
                    type: string
                - name: collection
                  in: path
                  description: Topic name.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SubscribeRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StreamingSubscribeResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/create:
        post:
            tags:
                - Databases
            summary: Create Database
            description: Creates a new database. Returns an AlreadyExists error with a status code 409 if the database already exists.
            operationId: Tigris_CreateDatabase
            parameters:
                - name: db
                  in: path
                  description: Create database with this name.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateDatabaseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateDatabaseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/describe:
        post:
            tags:
                - Databases
            summary: Describe Database
            description: |-
                This API returns information related to the database along with all the collections inside the database.
                 This can be used to retrieve the size of the database or to retrieve schemas and the size of all the collections present in this database.
            operationId: Tigris_DescribeDatabase
            parameters:
                - name: db
                  in: path
                  description: Name of the database.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DescribeDatabaseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DescribeDatabaseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/drop:
        delete:
            tags:
                - Databases
            summary: Drop Database
            description: Drop database deletes all the collections in this database along with all of the documents, and associated metadata for these collections.
            operationId: Tigris_DropDatabase
            parameters:
                - name: db
                  in: path
                  description: 'Drop database with this name. **Note**: Deletes all the collections in the database. Use with caution.'
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DropDatabaseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DropDatabaseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/transactions/begin:
        post:
            tags:
                - Transactions
            summary: Begin a transaction
            description: |-
                Starts a new transaction and returns a transactional object. All reads/writes performed
                 within a transaction will run with serializable isolation.
            operationId: Tigris_BeginTransaction
            parameters:
                - name: db
                  in: path
                  description: Database name this transaction belongs to.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BeginTransactionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BeginTransactionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/transactions/commit:
        post:
            tags:
                - Transactions
            summary: Commit a Transaction
            description: |-
                Atomically commit all the changes performed in the context of the transaction. Commit provides all
                 or nothing semantics by ensuring no partial updates are in the database due to a transaction failure.
            operationId: Tigris_CommitTransaction
            parameters:
                - name: db
                  in: path
                  description: Database name this transaction belongs to.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CommitTransactionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CommitTransactionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/databases/{db}/transactions/rollback:
        post:
            tags:
                - Transactions
            summary: Rollback a transaction
            description: |-
                Rollback transaction discards all the changes
                 performed in the transaction
            operationId: Tigris_RollbackTransaction
            parameters:
                - name: db
                  in: path
                  description: Database name this transaction belongs to.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RollbackTransactionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/RollbackTransactionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/health:
        get:
            tags:
                - Observability
            summary: Health Check
            description: This endpoint can be used to check the liveness of the server.
            operationId: HealthAPI_Health
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HealthCheckResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
            security: []
    /v1/management/applications/create:
        post:
            tags:
                - Management
            summary: Creates the Application
            description: Create an application.
            operationId: Management_CreateApplication
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateApplicationRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateApplicationResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/applications/delete:
        delete:
            tags:
                - Management
            summary: Deletes the Application
            description: Delete an application.
            operationId: Management_DeleteApplication
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DeleteApplicationsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DeleteApplicationResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/applications/list:
        post:
            tags:
                - Management
            summary: List Applications
            description: Lists all application visible to requesting actor.
            operationId: Management_ListApplications
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ListApplicationsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListApplicationsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/applications/rotate:
        post:
            tags:
                - Management
            summary: Rotates the Application Secret
            description: Endpoint is used to rotate the secret for the application.
            operationId: Management_RotateApplicationSecret
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RotateApplicationSecretRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/RotateApplicationSecretResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/applications/update:
        post:
            tags:
                - Management
            summary: Updates the Application
            description: Update an application.
            operationId: Management_UpdateApplication
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateApplicationRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UpdateApplicationResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/namespaces/create:
        post:
            tags:
                - Namespaces
            summary: Creates a Namespace
            description: Creates a new namespace, if it does not exist
            operationId: Management_CreateNamespace
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateNamespaceRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateNamespaceResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/namespaces/describe:
        post:
            tags:
                - Namespaces
            summary: Describe the details of all namespaces
            description: Get details for all namespaces
            operationId: Management_DescribeNamespaces
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DescribeNamespacesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/namespaces/list:
        post:
            tags:
                - Namespaces
            summary: Lists all Namespaces
            description: List all namespace
            operationId: Management_ListNamespaces
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListNamespacesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/users/metadata/{metadataKey}/get:
        post:
            tags:
                - Management
            summary: Reads the User Metadata
            description: insertUserMetadata inserts the user metadata object
            operationId: Management_GetUserMetadata
            parameters:
                - name: metadataKey
                  in: path
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/GetUserMetadataRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetUserMetadataResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/users/metadata/{metadataKey}/insert:
        post:
            tags:
                - Management
            summary: Inserts User Metadata
            description: insertUserMetadata inserts the user metadata object
            operationId: Management_InsertUserMetadata
            parameters:
                - name: metadataKey
                  in: path
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InsertUserMetadataRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InsertUserMetadataResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/management/users/metadata/{metadataKey}/update:
        post:
            tags:
                - Management
            summary: Updates User Metadata
            description: updateUserMetadata updates the user metadata object
            operationId: Management_UpdateUserMetadata
            parameters:
                - name: metadataKey
                  in: path
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateUserMetadataRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UpdateUserMetadataResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/observability/info:
        get:
            tags:
                - Observability
            summary: Information about the server
            description: Provides the information about the server. This information includes returning the server version, etc.
            operationId: Observability_GetInfo
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetInfoResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/observability/metrics/timeseries/query:
        post:
            tags:
                - Observability
            summary: Queries time series metrics
            description: Queries time series metrics
            operationId: Observability_QueryTimeSeriesMetrics
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/QueryTimeSeriesMetricsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/QueryTimeSeriesMetricsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/observability/quota/limits:
        post:
            tags:
                - Observability
            summary: Queries current namespace quota limits
            description: Returns current namespace quota limits
            operationId: Observability_QuotaLimits
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/QuotaLimitsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/QuotaLimitsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/observability/quota/usage:
        post:
            tags:
                - Observability
            summary: Queries current namespace quota usage
            description: Returns current namespace quota limits
            operationId: Observability_QuotaUsage
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/QuotaUsageRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/QuotaUsageResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
components:
    schemas:
        AdditionalFunction:
            type: object
            properties:
                rollup:
                    $ref: '#/components/schemas/RollupFunction'
            description: Additional function to apply on metrics query
        Application:
            type: object
            properties:
                id:
                    type: string
                    description: Generated client id
                name:
                    type: string
                    description: A human readable app name
                description:
                    type: string
                    description: A human readable app description
                secret:
                    type: string
                    description: Generated app secret
                created_at:
                    type: integer
                    description: Created at
                    format: int64
                created_by:
                    type: string
                    description: Created by
                updated_at:
                    type: integer
                    description: Updated at
                    format: int64
                updated_by:
                    type: string
                    description: Updated by
            description: An user application
        BeginTransactionRequest:
            type: object
            properties:
                options:
                    $ref: '#/components/schemas/TransactionOptions'
            description: Start new transaction in database specified by "db".
        BeginTransactionResponse:
            type: object
            properties:
                tx_ctx:
                    $ref: '#/components/schemas/TransactionCtx'
            description: Start transaction returns transaction context  which uniquely identifies the transaction
        Collation:
            type: object
            properties:
                case:
                    type: string
            description: A collation allows you to specify string comparison rules. Default is case-sensitive, to override it you can set this option to 'ci' that will apply to all the text fields in the filters.
        CollectionDescription:
            type: object
            properties:
                collection:
                    type: string
                    description: Name of the collection.
                metadata:
                    $ref: '#/components/schemas/CollectionMetadata'
                schema:
                    type: object
                    description: Collections schema
                size:
                    type: integer
                    description: Collection size in bytes
                    format: int64
        CollectionInfo:
            type: object
            properties:
                collection:
                    type: string
                    description: Collection name.
                metadata:
                    $ref: '#/components/schemas/CollectionMetadata'
        CollectionMetadata:
            type: object
            properties: {}
        CollectionOptions:
            type: object
            properties: {}
            description: Collection requests modifying options.
        CommitTransactionRequest:
            type: object
            properties: {}
            description: Commit transaction with the given ID
        CommitTransactionResponse:
            type: object
            properties:
                status:
                    type: string
                    description: Status of commit transaction operation.
        CreateApplicationRequest:
            type: object
            properties:
                name:
                    type: string
                    description: A human readable app name
                description:
                    type: string
                    description: A human readable app description
            description: Request creation of user application
        CreateApplicationResponse:
            type: object
            properties:
                created_application:
                    $ref: '#/components/schemas/Application'
            description: CreateApplication returns created application
        CreateDatabaseRequest:
            type: object
            properties:
                options:
                    $ref: '#/components/schemas/DatabaseOptions'
        CreateDatabaseResponse:
            type: object
            properties:
                message:
                    type: string
                    description: A detailed response message.
                status:
                    type: string
                    description: An enum with value set as "created".
        CreateNamespaceRequest:
            type: object
            properties:
                code:
                    type: integer
                    description: 'Optional: unique id'
                    format: uint32
                id:
                    type: string
                    description: 'Optional: unique string id'
                name:
                    type: string
                    description: 'Required: The display name for namespace.'
        CreateNamespaceResponse:
            type: object
            properties:
                message:
                    type: string
                    description: A detailed response message.
                status:
                    type: string
                    description: An enum with value set as "created".
                namespace:
                    $ref: '#/components/schemas/NamespaceInfo'
        CreateOrUpdateCollectionRequest:
            type: object
            properties:
                schema:
                    type: object
                    description: 'The schema specifications are same as JSON schema specification defined <a href="https://json-schema.org/specification.html" title="here">here</a>. The schema of the `documents` collection differs from the schema of `topic` collection as `topic` collection does not have any concept of `primary_key`. The server recognizes type of the collection by the `collection_type` set in the schema.<p></p> Schema example of `documents`: `{  "title": "user",  "description": "Collection of documents with details of users",  "properties": {    "id": {      "description": "A unique identifier for the user",      "type": "integer"    },    "name": {      "description": "Name of the user",      "type": "string",      "maxLength": 100    },    "balance": {      "description": "User account balance",      "type": "number"    }  },  "primary_key": ["id"] }` <p></p>*Note: The `collection_type` is not set as default is documents.* <p></p>Schema example of `topic`: `{  "title": "user_events",  "description": "Topic for user events",  "properties": {    "event_id": {      "description": "A id for the event",      "type": "integer"    },    "event_type": {      "description": "Type of the Event",      "type": "string",      "maxLength": 100    }    "event_details": {      "description": "Details about the Event",      "type": "string"    }  },  "collection_type": "topic" }` <p></p> *Note: The `collection_type` is set as "topic".*'
                only_create:
                    type: boolean
                    description: If set to `true` then the update schema request to the collection will fail by returning a conflict with HTTP Status code 409. The default is false.
                options:
                    $ref: '#/components/schemas/CollectionOptions'
        CreateOrUpdateCollectionResponse:
            type: object
            properties:
                message:
                    type: string
                    description: A detailed response message.
                status:
                    type: string
                    description: An enum with value set as "created" or "updated"
        DataPoint:
            type: object
            properties:
                timestamp:
                    type: integer
                    format: int64
                value:
                    type: number
                    format: double
            description: Represents the data point in timeseries.
        DatabaseInfo:
            type: object
            properties:
                db:
                    type: string
                    description: Database name.
                metadata:
                    $ref: '#/components/schemas/DatabaseMetadata'
        DatabaseMetadata:
            type: object
            properties: {}
        DatabaseOptions:
            type: object
            properties: {}
            description: Database requests modifying options.
        DeleteApplicationResponse:
            type: object
            properties:
                deleted:
                    type: boolean
                    description: status flag for delete operation
            description: DeleteApplication returns the flag to convey if application was deleted
        DeleteApplicationsRequest:
            type: object
            properties:
                id:
                    type: string
                    description: application id
            description: Request deletion of an application
        DeleteRequest:
            type: object
            properties:
                filter:
                    type: object
                    description: 'Delete documents which matching specified filter. A filter can simply be key, value where key is the field name and value would be the value for this field. Or a filter can be logical where two or more fields can be logically joined using $or and $and. A few examples of filter: <li> To delete a user document where the id has a value 1: ```{"id": 1 }``` <li> To delete all the user documents where the key "id" has a value 1 or 2 or 3: `{"$or": [{"id": 1}, {"id": 2}, {"id": 3}]}`'
                options:
                    $ref: '#/components/schemas/DeleteRequestOptions'
        DeleteRequestOptions:
            type: object
            properties:
                write_options:
                    $ref: '#/components/schemas/WriteOptions'
                collation:
                    $ref: '#/components/schemas/Collation'
                limit:
                    type: integer
                    description: Limit the number of documents to be deleted
                    format: int64
            description: Additional options for deleted requests.
        DeleteResponse:
            type: object
            properties:
                metadata:
                    $ref: '#/components/schemas/ResponseMetadata'
                status:
                    type: string
                    description: an enum with value set as "deleted"
        DescribeCollectionRequest:
            type: object
            properties:
                db:
                    type: string
                    description: Name of the database.
                collection:
                    type: string
                    description: Name of the collection.
                options:
                    $ref: '#/components/schemas/CollectionOptions'
        DescribeCollectionResponse:
            type: object
            properties:
                collection:
                    type: string
                    description: Name of the collection.
                metadata:
                    $ref: '#/components/schemas/CollectionMetadata'
                schema:
                    type: object
                    description: Schema of this collection.
                size:
                    type: integer
                    description: The size of this collection in bytes.
                    format: int64
            description: A detailed description of the collection. The description returns collection metadata and the schema.
        DescribeDatabaseRequest:
            type: object
            properties:
                db:
                    type: string
                    description: Name of the database.
        DescribeDatabaseResponse:
            type: object
            properties:
                db:
                    type: string
                    description: Name of the database.
                metadata:
                    $ref: '#/components/schemas/DatabaseMetadata'
                collections:
                    type: array
                    items:
                        $ref: '#/components/schemas/CollectionDescription'
                    description: A detailed description about all the collections. The description returns collection metadata and the schema.
                size:
                    type: integer
                    description: Sum of all the collections sizes present in this database
                    format: int64
            description: A detailed description of the database and all the associated collections. Description of the collection includes schema details as well.
        DescribeNamespacesData:
            type: object
            properties:
                details:
                    type: string
        DescribeNamespacesResponse:
            type: object
            properties:
                data:
                    $ref: '#/components/schemas/DescribeNamespacesData'
        DropCollectionRequest:
            type: object
            properties:
                options:
                    $ref: '#/components/schemas/CollectionOptions'
        DropCollectionResponse:
            type: object
            properties:
                message:
                    type: string
                    description: A detailed response message.
                status:
                    type: string
                    description: An enum with value set as "dropped".
        DropDatabaseRequest:
            type: object
            properties:
                options:
                    $ref: '#/components/schemas/DatabaseOptions'
        DropDatabaseResponse:
            type: object
            properties:
                message:
                    type: string
                    description: A detailed response message.
                status:
                    type: string
                    description: An enum with value set as "dropped".
        Error:
            type: object
            properties:
                code:
                    enum:
                        - OK
                        - CANCELLED
                        - UNKNOWN
                        - INVALID_ARGUMENT
                        - DEADLINE_EXCEEDED
                        - NOT_FOUND
                        - ALREADY_EXISTS
                        - PERMISSION_DENIED
                        - RESOURCE_EXHAUSTED
                        - FAILED_PRECONDITION
                        - ABORTED
                        - OUT_OF_RANGE
                        - UNIMPLEMENTED
                        - INTERNAL
                        - UNAVAILABLE
                        - DATA_LOSS
                        - UNAUTHENTICATED
                        - CONFLICT
                        - BAD_GATEWAY
                        - METHOD_NOT_ALLOWED
                    type: string
                    description: The status code is a short, machine parsable string, which uniquely identifies the error type. Tigris to HTTP code mapping [here](/reference/http-code)
                    format: enum
                message:
                    type: string
                    description: A developer-facing descriptive error message
            description: The Error type defines a logical error model
        EventsRequest:
            type: object
            properties:
                db:
                    type: string
                collection:
                    type: string
                options:
                    $ref: '#/components/schemas/EventsRequestOptions'
        EventsRequestOptions:
            type: object
            properties: {}
        EventsResponse:
            type: object
            properties:
                event:
                    $ref: '#/components/schemas/StreamEvent'
        FacetCount:
            type: object
            properties:
                count:
                    type: integer
                    format: int64
                value:
                    type: string
        FacetStats:
            type: object
            properties:
                avg:
                    type: number
                    description: Average of all values in a field. Only available for numeric fields
                    format: double
                max:
                    type: number
                    description: Maximum of all values in a field. Only available for numeric fields
                    format: double
                min:
                    type: number
                    description: Minimum of all values in a field. Only available for numeric fields
                    format: double
                sum:
                    type: number
                    description: Sum of all values in a field. Only available for numeric fields
                    format: double
                count:
                    type: integer
                    description: Total number of values in a field
                    format: int64
            description: Additional stats for faceted field
        GetAccessTokenRequest:
            type: object
            properties:
                grant_type:
                    enum:
                        - REFRESH_TOKEN
                        - CLIENT_CREDENTIALS
                    type: string
                    format: enum
                refresh_token:
                    type: string
                    description: Refresh token is required when grant type is set as `REFRESH_TOKEN`.
                client_id:
                    type: string
                    description: Client Id is required when grant type is set as `CLIENT_CREDENTIALS`.
                client_secret:
                    type: string
                    description: Your Tigris API Key is required when grant type is set as `CLIENT_CREDENTIALS`.
            description: The Request message for the GetAccessToken. The grant type is a required field and based on the grant type the other fields are used as mentioned below.
        GetAccessTokenResponse:
            type: object
            properties:
                access_token:
                    type: string
                    description: An Access Token.
                refresh_token:
                    type: string
                    description: The Refresh Token.
                expires_in:
                    type: integer
                    description: Access token expiration timeout in seconds.
                    format: int32
            description: The response of GetAccessToken which contains access_token and optionally refresh_token.
        GetInfoResponse:
            type: object
            properties:
                server_version:
                    type: string
        GetUserMetadataRequest:
            type: object
            properties:
                metadataKey:
                    type: string
                value:
                    type: object
            description: Request user metadata
        GetUserMetadataResponse:
            type: object
            properties:
                metadataKey:
                    type: string
                userId:
                    type: string
                namespaceId:
                    type: integer
                    format: uint32
                value:
                    type: object
            description: User metadata response
        HealthCheckResponse:
            type: object
            properties:
                response:
                    type: string
        InsertRequest:
            type: object
            properties:
                documents:
                    type: array
                    items:
                        type: object
                    description: Array of documents to insert. Each document is a JSON object.
                options:
                    $ref: '#/components/schemas/InsertRequestOptions'
        InsertRequestOptions:
            type: object
            properties:
                write_options:
                    $ref: '#/components/schemas/WriteOptions'
            description: additional options for insert requests.
        InsertResponse:
            type: object
            properties:
                metadata:
                    $ref: '#/components/schemas/ResponseMetadata'
                status:
                    type: string
                    description: An enum with value set as "inserted"
                keys:
                    type: array
                    items:
                        type: string
                        format: byte
                    description: an array returns the value of the primary keys.
        InsertUserMetadataRequest:
            type: object
            properties:
                metadataKey:
                    type: string
                value:
                    type: object
            description: Request insertion of user metadata
        InsertUserMetadataResponse:
            type: object
            properties:
                metadataKey:
                    type: string
                userId:
                    type: string
                namespaceId:
                    type: integer
                    format: uint32
                value:
                    type: object
            description: Insertion of user metadata response
        ListApplicationsRequest:
            type: object
            properties: {}
            description: Request listing of all the application those are visible to requesting actor
        ListApplicationsResponse:
            type: object
            properties:
                applications:
                    type: array
                    items:
                        $ref: '#/components/schemas/Application'
            description: ListApplication returns one or more visible application to user
        ListCollectionsRequest:
            type: object
            properties:
                options:
                    $ref: '#/components/schemas/CollectionOptions'
        ListCollectionsResponse:
            type: object
            properties:
                db:
                    type: string
                    description: Name of the database.
                collections:
                    type: array
                    items:
                        $ref: '#/components/schemas/CollectionInfo'
                    description: List of the collections info in the database.
        ListDatabasesResponse:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        $ref: '#/components/schemas/DatabaseInfo'
                    description: List of the databases.
        ListNamespacesResponse:
            type: object
            properties:
                namespaces:
                    type: array
                    items:
                        $ref: '#/components/schemas/NamespaceInfo'
        MetricSeries:
            type: object
            properties:
                from:
                    type: integer
                    format: int64
                to:
                    type: integer
                    format: int64
                metric:
                    type: string
                scope:
                    type: string
                dataPoints:
                    type: array
                    items:
                        $ref: '#/components/schemas/DataPoint'
            description: Represents series in timeseries based on input query.
        NamespaceInfo:
            type: object
            properties:
                code:
                    type: integer
                    description: The unique namespace code.
                    format: int32
                id:
                    type: string
                    description: The namespace unique id.
                name:
                    type: string
                    description: The namespace display name.
        Page:
            type: object
            properties:
                current:
                    type: integer
                    description: Number representing the current page of results
                    format: int32
                size:
                    type: integer
                    description: Maximum number of results per page
                    format: int32
            description: Pagination metadata for SearchResponse
        PublishRequest:
            type: object
            properties:
                db:
                    type: string
                    description: Database name where to publish messages.
                collection:
                    type: string
                    description: Topic name where to publish messages.
                messages:
                    type: array
                    items:
                        type: object
                    description: An array of JSON messages to publish.
                options:
                    $ref: '#/components/schemas/PublishRequestOptions'
        PublishRequestOptions:
            type: object
            properties:
                partition:
                    type: integer
                    format: int32
        PublishResponse:
            type: object
            properties:
                metadata:
                    $ref: '#/components/schemas/ResponseMetadata'
                status:
                    type: string
                keys:
                    type: array
                    items:
                        type: string
                        format: byte
        QueryTimeSeriesMetricsRequest:
            type: object
            properties:
                db:
                    type: string
                collection:
                    type: string
                from:
                    type: integer
                    format: int64
                to:
                    type: integer
                    format: int64
                metric_name:
                    type: string
                tigris_operation:
                    enum:
                        - ALL
                        - READ
                        - WRITE
                        - METADATA
                    type: string
                    format: enum
                space_aggregation:
                    enum:
                        - AVG
                        - MIN
                        - MAX
                        - SUM
                    type: string
                    format: enum
                space_aggregated_by:
                    type: array
                    items:
                        type: string
                function:
                    enum:
                        - RATE
                        - COUNT
                        - NONE
                    type: string
                    format: enum
                quantile:
                    type: number
                    format: float
                additionalFunctions:
                    type: array
                    items:
                        $ref: '#/components/schemas/AdditionalFunction'
            description: Requests the time series metrics
        QueryTimeSeriesMetricsResponse:
            type: object
            properties:
                from:
                    type: integer
                    format: int64
                to:
                    type: integer
                    format: int64
                query:
                    type: string
                series:
                    type: array
                    items:
                        $ref: '#/components/schemas/MetricSeries'
            description: QueryTimeSeriesMetric responds with this type.
        QuotaLimitsRequest:
            type: object
            properties: {}
            description: Request current namespace quota limits
        QuotaLimitsResponse:
            type: object
            properties:
                ReadUnits:
                    type: integer
                    description: Number of allowed read units per second
                    format: int64
                WriteUnits:
                    type: integer
                    description: Number of allowed write units per second
                    format: int64
                StorageSize:
                    type: integer
                    description: Maximum number of bytes allowed to store
                    format: int64
            description: Contains current quota limits
        QuotaUsageRequest:
            type: object
            properties: {}
            description: Request current namespace quota usage
        QuotaUsageResponse:
            type: object
            properties:
                ReadUnits:
                    type: integer
                    description: Number of read units used per second
                    format: int64
                WriteUnits:
                    type: integer
                    description: Number of write units used per second
                    format: int64
                StorageSize:
                    type: integer
                    description: Number of bytes stored
                    format: int64
                ReadUnitsThrottled:
                    type: integer
                    description: Number of read units throttled per second. Units which was rejected with "resource exhausted error".
                    format: int64
                WriteUnitsThrottled:
                    type: integer
                    description: Number of write units throttled per second. Units which was rejected with "resource exhausted error".
                    format: int64
                StorageSizeThrottled:
                    type: integer
                    description: Number of bytes throttled. Number of bytes which were attempted to write in excess of quota and were rejected.
                    format: int64
            description: Contains current quota usage
        ReadRequest:
            type: object
            properties:
                filter:
                    type: object
                    description: 'Returns documents matching this filter. A filter can simply be a key, value pair where a key is the field name and the value would be the value for this field. Tigris also allows complex filtering by passing logical expressions. Logical filters are applied on two or more fields using `$or` and `$and`. A few examples of filters: <li> To read a user document where the id has a value 1: ```{"id": 1 }``` <li> To read all the user documents where the key "id" has a value 1 or 2 or 3: `{"$or": [{"id": 1}, {"id": 2}, {"id": 3}]}` Filter allows setting collation on an individual field level. To set collation for all the fields see options. The detailed documentation of the filter is <a href="https://docs.tigrisdata.com/overview/query#specification-1" title="here">here</a>.'
                fields:
                    type: object
                    description: To read specific fields from a document. Default is all.
                options:
                    $ref: '#/components/schemas/ReadRequestOptions'
        ReadRequestOptions:
            type: object
            properties:
                limit:
                    type: integer
                    description: Limit the number of documents returned by the read operation.
                    format: int64
                skip:
                    type: integer
                    description: Number of documents to skip before starting to return resulting documents.
                    format: int64
                offset:
                    type: string
                    description: A cursor for use in pagination. The next streams will return documents after this offset.
                    format: byte
                collation:
                    $ref: '#/components/schemas/Collation'
            description: Options that can be used to modify the results, for example "limit" to control the number of documents returned by the server.
        ReadResponse:
            type: object
            properties:
                data:
                    type: object
                    description: Object containing the collection document.
                resume_token:
                    type: string
                    description: An internal key, used for pagination.
                    format: byte
                metadata:
                    $ref: '#/components/schemas/ResponseMetadata'
        ReplaceRequest:
            type: object
            properties:
                documents:
                    type: array
                    items:
                        type: object
                    description: Array of documents to be replaced. Each document is a JSON object.
                options:
                    $ref: '#/components/schemas/ReplaceRequestOptions'
        ReplaceRequestOptions:
            type: object
            properties:
                write_options:
                    $ref: '#/components/schemas/WriteOptions'
            description: Additional options for replace requests.
        ReplaceResponse:
            type: object
            properties:
                metadata:
                    $ref: '#/components/schemas/ResponseMetadata'
                status:
                    type: string
                    description: an enum with value set as "replaced"
                keys:
                    type: array
                    items:
                        type: string
                        format: byte
                    description: an array returns the value of the primary keys.
        ResponseMetadata:
            type: object
            properties:
                created_at:
                    type: string
                    description: Time at which the document was inserted/replaced. Measured in nano-seconds since the Unix epoch.
                    format: date-time
                updated_at:
                    type: string
                    description: Time at which the document was updated. Measured in nano-seconds since the Unix epoch.
                    format: date-time
                deleted_at:
                    type: string
                    description: Time at which the document was deleted. Measured in nano-seconds since the Unix epoch.
                    format: date-time
            description: Has metadata related to the documents stored.
        RollbackTransactionRequest:
            type: object
            properties: {}
            description: Rollback transaction with the given ID
        RollbackTransactionResponse:
            type: object
            properties:
                status:
                    type: string
                    description: Status of rollback transaction operation.
        RollupFunction:
            type: object
            properties:
                aggregator:
                    enum:
                        - ROLLUP_AGGREGATOR_SUM
                        - ROLLUP_AGGREGATOR_COUNT
                        - ROLLUP_AGGREGATOR_MIN
                        - ROLLUP_AGGREGATOR_MAX
                        - ROLLUP_AGGREGATOR_AVG
                    type: string
                    format: enum
                interval:
                    type: integer
                    format: int64
            description: Rollup function aggregates the slices of metrics returned by original query and lets you operate on the slices using aggregator and constructs the bigger slice of your choice of interval (specified in seconds).
        RotateApplicationSecretRequest:
            type: object
            properties:
                id:
                    type: string
                    description: application id
            description: Request rotation of an application secret
        RotateApplicationSecretResponse:
            type: object
            properties:
                application:
                    $ref: '#/components/schemas/Application'
            description: RotateApplicationRequest returns the new application with rotated secret
        SearchFacet:
            type: object
            properties:
                counts:
                    type: array
                    items:
                        $ref: '#/components/schemas/FacetCount'
                stats:
                    $ref: '#/components/schemas/FacetStats'
        SearchHit:
            type: object
            properties:
                data:
                    type: object
                    description: Actual search document
                metadata:
                    $ref: '#/components/schemas/SearchHitMeta'
        SearchHitMeta:
            type: object
            properties:
                created_at:
                    type: string
                    description: Time at which the document was inserted/replaced. Measured in nano-seconds since the Unix epoch.
                    format: date-time
                updated_at:
                    type: string
                    description: Time at which the document was updated. Measured in nano-seconds since the Unix epoch.
                    format: date-time
            description: Contains metadata related to the search hit, has information about document created_at/updated_at as well.
        SearchMetadata:
            type: object
            properties:
                found:
                    type: integer
                    description: Total number of search results across all pages
                    format: int64
                total_pages:
                    type: integer
                    description: Number representing the total pages of results
                    format: int32
                page:
                    $ref: '#/components/schemas/Page'
        SearchRequest:
            type: object
            properties:
                q:
                    type: string
                    description: Query string for searching across text fields
                search_fields:
                    type: array
                    items:
                        type: string
                    description: Array of fields to project search query against
                filter:
                    type: object
                    description: Filter stacks on top of query results to further narrow down the results. Similar to `ReadRequest.filter`
                facet:
                    type: object
                    description: 'Facet query to aggregate results on given fields. The field name for the facet search can be passed like this `{"brand": { "size": 10 }}` where the size controls the total facets for this field.'
                sort:
                    type: object
                    description: 'Array of fields and corresponding sort orders to order the results `[{ "salary": "$desc" }]`'
                include_fields:
                    type: array
                    items:
                        type: string
                    description: Array of document field names to include in results. By default, all fields are included.
                exclude_fields:
                    type: array
                    items:
                        type: string
                    description: Array of document field names to exclude from results. `include_fields`, if specified, takes precedence over `exclude_fields`.
                page_size:
                    type: integer
                    description: Optionally can set the number of hits to be returned per page, default is 20.
                    format: int32
                page:
                    type: integer
                    description: Optionally can specify the page to retrieve. If page is set then only hits for this page is returned
                    format: int32
                collation:
                    $ref: '#/components/schemas/Collation'
                fields:
                    type: object
        SearchResponse:
            type: object
            properties:
                hits:
                    type: array
                    items:
                        $ref: '#/components/schemas/SearchHit'
                facets:
                    type: object
                    additionalProperties:
                        $ref: '#/components/schemas/SearchFacet'
                meta:
                    $ref: '#/components/schemas/SearchMetadata'
            description: Response struct for search
        StreamEvent:
            type: object
            properties:
                tx_id:
                    type: string
                    format: byte
                collection:
                    type: string
                op:
                    type: string
                key:
                    type: string
                    format: byte
                lkey:
                    type: string
                    format: byte
                rkey:
                    type: string
                    format: byte
                data:
                    type: object
                last:
                    type: boolean
        SubscribeRequest:
            type: object
            properties:
                db:
                    type: string
                    description: Database name.
                collection:
                    type: string
                    description: Topic name.
                options:
                    $ref: '#/components/schemas/SubscribeRequestOptions'
                filter:
                    type: object
                    description: Filter allows you to subscribe only for events that you need. Filter syntax is similar to `ReadRequest.filter`.
        SubscribeRequestOptions:
            type: object
            properties:
                partitions:
                    type: array
                    items:
                        type: integer
                        format: int32
        SubscribeResponse:
            type: object
            properties:
                message:
                    type: string
                    format: byte
        TransactionCtx:
            type: object
            properties:
                id:
                    type: string
                    description: Unique for a single transactional request.
                origin:
                    type: string
                    description: Serves as an internal identifier.
            description: Contains ID which uniquely identifies transaction This context is returned by BeginTransaction request and should be passed in the metadata (headers) of subsequent requests in order to run them in the context of the same transaction.
        TransactionOptions:
            type: object
            properties: {}
            description: Options that can be used to modify the transaction semantics.
        UpdateApplicationRequest:
            type: object
            properties:
                id:
                    type: string
                    description: application id
                name:
                    type: string
                    description: A new human readable app name
                description:
                    type: string
                    description: A new human readable app description
            description: Request creation of user application
        UpdateApplicationResponse:
            type: object
            properties:
                updated_application:
                    $ref: '#/components/schemas/Application'
            description: CreateApplication returns created application
        UpdateRequest:
            type: object
            properties:
                fields:
                    type: object
                    description: Fields contains set of fields with the values which need to be updated. Should be proper JSON object.
                filter:
                    type: object
                    description: 'Update documents which matching specified filter. A filter can simply be key, value where key is the field name and value would be the value for this field. Or a filter can be logical where two or more fields can be logically joined using $or and $and. A few examples of filter: <li> To update a user document where the id has a value 1: ```{"id": 1 }``` <li> To update all the user documents where the key "id" has a value 1 or 2 or 3: `{"$or": [{"id": 1}, {"id": 2}, {"id": 3}]}`'
                options:
                    $ref: '#/components/schemas/UpdateRequestOptions'
        UpdateRequestOptions:
            type: object
            properties:
                write_options:
                    $ref: '#/components/schemas/WriteOptions'
                collation:
                    $ref: '#/components/schemas/Collation'
                limit:
                    type: integer
                    description: Limit the number of documents to be updated
                    format: int64
            description: Additional options for update requests.
        UpdateResponse:
            type: object
            properties:
                metadata:
                    $ref: '#/components/schemas/ResponseMetadata'
                modified_count:
                    type: integer
                    description: Returns the number of documents modified.
                    format: int32
                status:
                    type: string
                    description: an enum with value set as "updated".
        UpdateUserMetadataRequest:
            type: object
            properties:
                metadataKey:
                    type: string
                value:
                    type: object
            description: Request update of user metadata
        UpdateUserMetadataResponse:
            type: object
            properties:
                metadataKey:
                    type: string
                userId:
                    type: string
                namespaceId:
                    type: integer
                    format: uint32
                value:
                    type: object
            description: Update of user metadata response
        WriteOptions:
            type: object
            properties: {}
            description: Additional options to modify write requests.
        StreamingReadResponse:
            type: object
            properties:
                result:
                    $ref: '#/components/schemas/ReadResponse'
                error:
                    $ref: '#/components/schemas/Error'
        StreamingSearchResponse:
            type: object
            properties:
                result:
                    $ref: '#/components/schemas/SearchResponse'
                error:
                    $ref: '#/components/schemas/Error'
        StreamingEventsResponse:
            type: object
            properties:
                result:
                    $ref: '#/components/schemas/EventsResponse'
                error:
                    $ref: '#/components/schemas/Error'
        StreamingSubscribeResponse:
            type: object
            properties:
                result:
                    $ref: '#/components/schemas/SubscribeResponse'
                error:
                    $ref: '#/components/schemas/Error'
        Status:
            type: object
            properties:
                error:
                    $ref: '#/components/schemas/Error'
    securitySchemes:
        BearerAuth:
            type: http
            scheme: bearer
security:
    - BearerAuth: []
tags:
    - name: Authentication
      description: 'The auth section of API provides open authorization (OAuth 2.0) APIs. Tigris supports pluggable OAuth provider. Pass the token in the headers for authentication, as an example `-H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6I"`(replace it with your token). All API requests must be made over HTTPS. Calls made over plain HTTP will fail. API requests without authentication will also fail.'
    - name: Collections
      description: The Collections section provide APIs that can be used to manage collections. A collection can have one or more documents.
    - name: Databases
      description: The Databases section provide APIs that can be used to manage databases. A single database can have one or more collections.
    - name: Documents
      description: The Documents section provide APIs to manage documents insides a collection. Uniqueness of documents are enforced by the primary key.
    - name: Event Streaming
      description: Tigris has built-in event streaming support. This functionality is enabled for the `Messages` collection type. This type of collection is referred as Topic and has endpoints that allows you to both subscribe and publish to a topic which enable building event-driven applications. Ordering is guaranteed on a partition level
    - name: Management
      description: The Management section provide APIs that can be used to manage users, and applications.
    - name: Namespaces
      description: The Namespaces section provide APIs that can be used to manage namespaces. A single namespace can have one or more databases.
    - name: Observability
      description: The Observability section has APIs that provides full visibility into the health, metrics, and monitoring of the Server.
    - name: Transactions
      description: Transactional APIs are used to control the state of the transaction by explicitly starting a transaction and ending it using the commit/rollback endpoint. All operations performed in a transaction acts as a single unit. Tigris offers global transactions, with ACID properties and strict serializability.
